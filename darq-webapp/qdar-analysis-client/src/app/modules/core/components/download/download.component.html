<div class="page-container">
  <div class="page-alerts">
    <dam-alerts-container></dam-alerts-container>
  </div>
  <div class="page-title upload-page-title">
    <h4 class="title-text title-heading" ><i class="fa fa-download" style="color: blue;"></i> Downloads  </h4>
  </div>
  <div class="page-content upload-page-content">
    <div style="width: 100%; padding: 0 50px;">
      <table class="table table-sm table-bordered table-striped" style="width: 100%; margin-bottom: 30px;" *ngIf="(cliInfo$ | async) as cli">
        <thead>
          <tr>
            <th colspan="2">
              <div style="width: 100%; display: flex; align-items: center; justify-content: space-between;">
                <strong><i class="fa fa-terminal" style="color: blue"></i> qDAR Command Line Tool </strong>
                <a [href]="cliDownloadLink" target="_blank" class="btn btn-sm btn-primary">
                  Download
                </a>
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th> Version </th>
            <td> {{ cli.version }} </td>
          </tr>
          <tr>
            <th> MQE Version </th>
            <td> {{ cli.mqeVersion }} </td>
          </tr>
          <tr>
            <th> Build Date </th>
            <td> {{ cli.buildAt }} </td>
          </tr>
          <tr>
            <th> Key Hash </th>
            <td> {{ cli.keyHash }}</td>
          </tr>
        </tbody>
      </table>
      <ng-container *ngIf="(files$ | async) as files">
        <h5 *ngIf="files && files.length > 0"><i class="fa fa-file-o" style="color: blue;"></i>  Files </h5>
        <table class="table table-sm table-bordered table-striped" style="width: 100%;" *ngIf="files && files.length > 0">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th style="width: 100px;"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of files">
              <td> {{ item.name }} </td>
              <td> {{ item.description }} </td>
              <td style="border-left: 0;">
                <div style="width: 100%; display: flex; align-items: center; justify-content: flex-end;">
                  <a [href]="getDownloadLink(item.id)" target="_blank" class="btn btn-sm btn-primary">
                    Download
                  </a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-container>
    </div>
  </div>
</div>
